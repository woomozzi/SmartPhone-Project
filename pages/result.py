import streamlit as st
import pandas as pd
import matplotlib.pyplot as plt
from powerbiclient import Report, models
from IPython.display import IFrame
from PIL import Image
import io
import openai 
import requests
import os


st.markdown("""
<style>
.small-font {
    font-size:12px
}
</style>
""", unsafe_allow_html=True)

# ------------ μ μ λ³€μ μ΄κΈ°ν™” μ½”λ“-------------

if 'total_score' not in st.session_state:
    st.session_state.total_score = 0

if 'total_score_adult' not in st.session_state:
    st.session_state.total_score_adult = 0

# --------------------λ³€μ μ„ μ–Έ μ½”λ“-----------------

total_score = st.session_state.total_score
total_score_adult = st.session_state.total_score_adult
sex = st.session_state.sex
age = int(st.session_state.age)
name = st.session_state.name
# ----------------μ μ νλ³„ ν•¨μ----------------------------------------

def overdose_kids(score) :
    if score >= 28:
       st.header('{}(μ΄)λ” κ³ μ„ν—κµ°μΌλ΅ νμ •λμ—μµλ‹λ‹¤! πΆ'.format(name))
       st.header('μ„¤λ¬Έμ μλ” {}μ  μ…λ‹λ‹¤.'.format(score))
       st.markdown("---")
    elif score >= 24 and score <= 27:
        st.header('{}(μ΄)λ” μ μ¬μ μ„ν—κµ°μΌλ΅ νμ •λμ—μµλ‹λ‹¤! π¶'.format(name))
        st.header('μ„¤λ¬Έμ μλ” {}μ  μ…λ‹λ‹¤.'.format(score))
        st.markdown("---")
    else :
        st.header('{}(μ΄)λ” μΌλ°κµ°μΌλ΅ νμ •λμ—μµλ‹λ‹¤! π'.format(name))
        st.header('μ„¤λ¬Έμ μλ” {}μ  μ…λ‹λ‹¤.'.format(score))
        st.markdown("---")

def overdose_adult_teen(score) :
    if score >= 31:
       st.header('λ‹Ήμ‹ μ€ κ³ μ„ν—κµ°μΌλ΅ νμ •λμ—μµλ‹λ‹¤! πΆ')
       st.header('μ„¤λ¬Έμ μλ” {}μ  μ…λ‹λ‹¤.'.format(score))
       st.markdown("---")
    elif score >= 23 and score <= 30:
        st.header('λ‹Ήμ‹ μ€ μ μ¬μ μ„ν—κµ°μΌλ΅ νμ •λμ—μµλ‹λ‹¤! π¶')
        st.header('μ„¤λ¬Έμ μλ” {}μ  μ…λ‹λ‹¤.'.format(score))
        st.markdown("---")
    else :
        st.header('λ‹Ήμ‹ μ€ μΌλ°κµ°μΌλ΅ νμ •λμ—μµλ‹λ‹¤! π')
        st.header('μ„¤λ¬Έμ μλ” {}μ  μ…λ‹λ‹¤.'.format(score))
        st.markdown("---")

def overdose_adult(score) :
    if score >= 29:
       st.header('λ‹Ήμ‹ μ€ κ³ μ„ν—κµ°μΌλ΅ νμ •λμ—μµλ‹λ‹¤! πΆ')
       st.header('μ„¤λ¬Έμ μλ” {}μ  μ…λ‹λ‹¤.'.format(score))
       st.markdown("---")
    elif score >= 24 and score <= 28:
        st.header('λ‹Ήμ‹ μ€ μ μ¬μ μ„ν—κµ°μΌλ΅ νμ •λμ—μµλ‹λ‹¤! π¶')
        st.header('μ„¤λ¬Έμ μλ” {}μ  μ…λ‹λ‹¤.'.format(score))
        st.markdown("---")
    else :
        st.header('λ‹Ήμ‹ μ€ μΌλ°κµ°μΌλ΅ νμ •λμ—μµλ‹λ‹¤! π')
        st.header('μ„¤λ¬Έμ μλ” {}μ  μ…λ‹λ‹¤.'.format(score))
        st.markdown("---")

def overdose_adult_senior(score) :
    if score >= 28:
       st.header('λ‹Ήμ‹ μ€ κ³ μ„ν—κµ°μΌλ΅ νμ •λμ—μµλ‹λ‹¤! πΆ')
       st.header('μ„¤λ¬Έμ μλ” {}μ  μ…λ‹λ‹¤.'.format(score))
       st.markdown("---")
    elif score >= 24 and score <= 27:
        st.header('λ‹Ήμ‹ μ€ μ μ¬μ μ„ν—κµ°μΌλ΅ νμ •λμ—μµλ‹λ‹¤! π¶')
        st.header('μ„¤λ¬Έμ μλ” {}μ  μ…λ‹λ‹¤.'.format(score))
        st.markdown("---")
    else :
        st.header('λ‹Ήμ‹ μ€ μΌλ°κµ°μΌλ΅ νμ •λμ—μµλ‹λ‹¤! π')
        st.header('μ„¤λ¬Έμ μλ” {}μ  μ…λ‹λ‹¤.'.format(score))
        st.markdown("---")

# ----------------λ€μ‹λ³΄λ“ ν•¨μ-------------------------------------------------

def dash_kids():
    embed_code = """
<iframe title="project2_μ μ•„λ™_κ²°κ³Ό" width="800" height="400" src="https://app.powerbi.com/view?r=eyJrIjoiMzIwNzFiYTctYzdlNy00YmExLTgyZGUtMGJhMjdiZWIzMTgwIiwidCI6ImU0ZmVkY2NkLWRlOWMtNGUxMS04NDY3LWI0Y2FjMTliYzIzMyJ9" frameborder="0" allowFullScreen="true"></iframe>
"""
    st.subheader('[ μλ…€μ λ‚μ΄μΈ {}μ„Έκ°€ ν¬ν•¨λ κµ¬κ°„μ μ„¤λ¬Έμ΅°μ‚¬ ν„ν™© ]'.format(age))
    st.markdown(embed_code, unsafe_allow_html=True)
def dash_adult_teens():
    embed_code = """
<iframe title="project2_μ²­μ†λ…„_κ²°κ³Ό" width="800" height="400" src="https://app.powerbi.com/view?r=eyJrIjoiMzA5YmQ4ZTAtZTNkOC00NzllLWEzNGEtOTI2ZDA3NjVmYmJjIiwidCI6ImU0ZmVkY2NkLWRlOWMtNGUxMS04NDY3LWI0Y2FjMTliYzIzMyJ9" frameborder="0" allowFullScreen="true"></iframe>
"""
    st.subheader('[ λ‹Ήμ‹ μ λ‚μ΄μΈ {}μ„Έκ°€ ν¬ν•¨λ κµ¬κ°„μ μ„¤λ¬Έμ΅°μ‚¬ ν„ν™© ]'.format(age))
    st.markdown(embed_code, unsafe_allow_html=True)
def dash_adult():
    embed_code = """
<iframe title="project2_μ„±μΈ_κ²°κ³Ό" width="800" height="400" src="https://app.powerbi.com/view?r=eyJrIjoiZWNmMmYyNmMtNmYzMC00NWVlLThhZDgtNWM0N2E1OGE4ODU3IiwidCI6ImU0ZmVkY2NkLWRlOWMtNGUxMS04NDY3LWI0Y2FjMTliYzIzMyJ9" frameborder="0" allowFullScreen="true"></iframe>
"""
    st.subheader('[ λ‹Ήμ‹ μ λ‚μ΄μΈ {}μ„Έκ°€ ν¬ν•¨λ κµ¬κ°„μ μ„¤λ¬Έμ΅°μ‚¬ ν„ν™© ]'.format(age))
    st.markdown(embed_code, unsafe_allow_html=True)
def dash_adult_senior():
    embed_code = """
<iframe title="project2_60λ€_κ²°κ³Ό" width="800" height="400" src="https://app.powerbi.com/view?r=eyJrIjoiYmQ1MTQ1MmMtYzllNC00NDA1LWE4YmItMTVkMjUyMjg4OTg5IiwidCI6ImU0ZmVkY2NkLWRlOWMtNGUxMS04NDY3LWI0Y2FjMTliYzIzMyJ9" frameborder="0" allowFullScreen="true"></iframe>
"""
    st.subheader('[ λ‹Ήμ‹ μ λ‚μ΄μΈ {}μ„Έκ°€ ν¬ν•¨λ κµ¬κ°„μ μ„¤λ¬Έμ΅°μ‚¬ ν„ν™© ]'.format(age))
    st.markdown(embed_code, unsafe_allow_html=True)

#----------------------------------μ†”λ£¨μ… ν•¨μ--------------------------------------

def solution_kids_overdose():
    st.markdown("---")
    st.subheader("μ μ•„λ™ κ³Όμμ΅΄ μ¦κ°€ μ›μΈ")
    st.write("""
1. μ΄λ¥Έ μ‹μ‘μ‹κΈ°\n
2. μ£Όλ‹Ή μ‚¬μ©νμμ μ¦κ°€\n
3. μ μ•„μ 1ν ν‰κ·  μ¤λ§νΈν° μ‚¬μ©μ‹κ°„μ μ¦κ°€\n
4. λ¶€λ¨μ 1ν ν‰κ·  μ¤λ§νΈν° μ‚¬μ©μ‹κ°„μ μ¦κ°€
             """)
    st.markdown("---")
    st.subheader('μ¤λ§νΈν° κ³Όμμ΅΄ ν„μƒμ΄ μ μ•„λ“¤μ λ°λ‹¬μ— λ―ΈμΉλ” λ¶€μ •μ μΈ μν–¥')
    st.write("""
1. μ°½μμ λ¥λ ¥μ΄ λ–¨μ–΄μ§€κ³ , μΈμ§€ λ°λ‹¬ μΈ΅λ©΄μ—μ„ μ μ•„κ°€ μ¤λ§νΈν°μ„ κ³Όλ„ν•κ² μ΄μ©ν• κ²½μ° μ£Όμμ§‘μ¤‘λ ¥ μ €ν• ν„μƒμ΄ λ‚νƒ€λ‚λ‹¤.\n
2. μ μ•„κΈ°μ— μ¤λ§νΈν° κ²μ„ κ³Όλ°μ…μ„ ν•κ²λλ©΄ μΉμ‚¬νμ  ν–‰λ™μ λ°λ‹¬κ³Ό λ¬Έμ ν–‰λ™μ— λ€ν• μ΄ν•΄μ— λ¶€μ •μ μν–¥μ„ λ―ΈμΉ  μ μλ‹¤.\n
    λν•, μκΈ°μ΅°μ  λ¥λ ¥κ³Ό κ³µκ°λ¥λ ¥μ΄ λ‚®μ•„μ§€κ³  κ°μ •μ΅°μ κ³Ό μ¶©λ™μ–µμ κ°€ νλ“¤μ–΄μ§€λ©° μκΈ°μ΅΄μ¤‘κ°μ— λ¶€μ •μ  μν–¥μ„ λ―ΈμΉκ² λλ‹¤.\n
3. μ¤λ§νΈν° κ³Όμμ΅΄μ΄ μ‹¬ν•΄μ§€λ©΄ μ°μΈ,λ¶μ• λ“±μ μ •μ‹ μ μΈ λ¬Έμ λ„ μΌμΌν‚¬ μ μλ‹¤.\n
4. μ¤λ§νΈ κΈ°κΈ°μ ν„°μΉ λ° λ¨μ…μ μ ν•μ  μ‚¬μ©μΌλ΅ μΈν•΄ μ‹κ°μ™Έμ μ†κ·Όμ΅ μ‚¬μ©μ΄ μ¤„μ–΄λ“¤μ–΄ μ‹ μ²΄μ  μ„±μ¥μ— λ¶€μ •μ μΈ μν–¥μ„ λ―ΈμΉ  μ μλ‹¤.""")
    st.subheader('λ¶€λ¨κ°€ ν•  μ μλ” μλ°©λ²•')
    st.write("""
1. μλ…€μ—κ² μ¤λ§νΈν° μ‚¬μ©λ°©λ²•μ„ κ°€λ¥΄μΉλ‹¤.\n
2. μλ…€μ μ¤λ§νΈν° μ‚¬μ©μ‹κ°„μ„ μ ν•ν•λ‹¤.\n
3. μλ…€μ—κ² μ¤λ§νΈν° μ‚¬μ©μ μΆ‹μ€μ κ³Ό λ‚μμ μ„ λ§ν•΄μ¤€λ‹¤.\n
4. μλ…€κ°€ μ‚¬μ©ν•  μ μλ” νΉμ •ν• μ¤λ§νΈν° μ•±μ΄λ‚ μ‚¬μ΄νΈ(μ„±μΈμ‚¬μ΄νΈλ“±)λ¥Ό μ ν•ν•λ‹¤.
             """)
    st.subheader('μ†”λ£¨μ…')
    st.write('1. μ‚¬μ©νμ μ ν•π¨: μ£Όλ‹Ή 1~2νλ΅ μ ν•ν•μ—¬μ•Ό κ³Όμμ΅΄ μ„ν—μ΄ κ°μ†ν•λ‹¤.\n 2. μ μ•„μ μ‚¬μ©μ‹κ°„ μ ν•π‘¶: μ μ•„μ 1ν ν‰κ·  μ¤λ§νΈν° μ‚¬μ©μ‹κ°„μ„ 20λ¶„ μ΄λ‚΄λ΅ μ ν•ν•μ—¬μ•Ό κ³Όμμ΅΄ μ„ν—μ΄ κ°μ†ν•λ‹¤.\n 3. λ¶€λ¨μ μ‚¬μ©μ‹κ°„ μ ν•π¤±: λ¶€λ¨μ μ¤λ§νΈν° μ‚¬μ©μ‹κ°„μ„ μ΅°μ ν•μ—¬ μ μ•„μ κ³Όμμ΅΄μ„ μλ°©ν•΄μ•Όν•λ‹¤.')
    st.markdown("---")
    st.markdown("""
            <p class="small-font">μµ μ¤ ν¬α†κΉ€ μ€ μ, βμ¤λ§νΈν° μ¤‘λ… μλ°© κµμ΅ ν”„λ΅κ·Έλ¨μ΄ λ¶€λ¨μ™€ μ μ•„μ μ¤λ§νΈν° μ¤‘λ…μ— λ―ΈμΉλ” ν¨κ³Ό μ—°κµ¬β, μμ„±λ€ν•™κµ, 2020</p>\n
            <p class="small-font">μ μ •ν¬, βμ μ•„μ μ¤λ§νΈν° μ‚¬μ© μ‹¤νƒμ™€ κ³Όμμ΅΄κ³Όμ κ΄€κ³„β, ν•κµ­κµμ›λ€ν•™κµ μ„μ‚¬ν•™μ„λ…Όλ¬Έ, 2021</p>
             """, unsafe_allow_html=True)
def solution_kids_normal():
    st.markdown("---")
    st.subheader("""
μ΄λ” μ¤λ§νΈν° μ‚¬μ©μ— μμ–΄ κ· ν• μ΅ν μƒν™μ„ ν•κ³  μλ‹¤λ” κ²ƒμ„ μλ―Έν•©λ‹λ‹¤.\n
μ•μΌλ΅λ„ ν„μ¬μ μƒνƒλ¥Ό μ μ μ§€ν•μ—¬ κ³Όμμ΅΄ μ„ν—κµ°μ΄ λμ§€ μ•λ„λ΅ μ£Όμν•΄ μ£Όμ„Έμ”.\n
μ¤λ§νΈν° μ‚¬μ©μ„ μ μ ν μ΅°μ ν•λ©° κ±΄κ°•ν• λ””μ§€ν„Έ λΌμ΄ν”„λ¥Ό μ΄μ–΄κ°€μ‹κΈΈ λ°”λλ‹λ‹¤ π
               """)
    st.markdown("---")
    st.subheader('μ¤λ§νΈν° κ³Όμμ΅΄ ν„μƒμ΄ μ μ•„λ“¤μ λ°λ‹¬μ— λ―ΈμΉλ” λ¶€μ •μ μΈ μν–¥')
    st.write("""
1. μ°½μμ λ¥λ ¥μ΄ λ–¨μ–΄μ§€κ³ , μΈμ§€ λ°λ‹¬ μΈ΅λ©΄μ—μ„ μ μ•„κ°€ μ¤λ§νΈν°μ„ κ³Όλ„ν•κ² μ΄μ©ν• κ²½μ° μ£Όμμ§‘μ¤‘λ ¥ μ €ν• ν„μƒμ΄ λ‚νƒ€λ‚λ‹¤.\n
2. μ μ•„κΈ°μ— μ¤λ§νΈν° κ²μ„ κ³Όλ°μ…μ„ ν•κ²λλ©΄ μΉμ‚¬νμ  ν–‰λ™μ λ°λ‹¬κ³Ό λ¬Έμ ν–‰λ™μ— λ€ν• μ΄ν•΄μ— λ¶€μ •μ μν–¥μ„ λ―ΈμΉ  μ μλ‹¤.\n
    λν•, μκΈ°μ΅°μ  λ¥λ ¥κ³Ό κ³µκ°λ¥λ ¥μ΄ λ‚®μ•„μ§€κ³  κ°μ •μ΅°μ κ³Ό μ¶©λ™μ–µμ κ°€ νλ“¤μ–΄μ§€λ©° μκΈ°μ΅΄μ¤‘κ°μ— λ¶€μ •μ  μν–¥μ„ λ―ΈμΉκ² λλ‹¤.\n
3. μ¤λ§νΈν° κ³Όμμ΅΄μ΄ μ‹¬ν•΄μ§€λ©΄ μ°μΈ,λ¶μ• λ“±μ μ •μ‹ μ μΈ λ¬Έμ λ„ μΌμΌν‚¬ μ μλ‹¤.\n
4. μ¤λ§νΈ κΈ°κΈ°μ ν„°μΉ λ° λ¨μ…μ μ ν•μ  μ‚¬μ©μΌλ΅ μΈν•΄ μ‹κ°μ™Έμ μ†κ·Όμ΅ μ‚¬μ©μ΄ μ¤„μ–΄λ“¤μ–΄ μ‹ μ²΄μ  μ„±μ¥μ— λ¶€μ •μ μΈ μν–¥μ„ λ―ΈμΉ  μ μλ‹¤.""")
    st.subheader('λ¶€λ¨κ°€ ν•  μ μλ” μλ°©λ²•')
    st.write("""
1. μλ…€μ—κ² μ¤λ§νΈν° μ‚¬μ©λ°©λ²•μ„ κ°€λ¥΄μΉλ‹¤.\n
2. μλ…€μ μ¤λ§νΈν° μ‚¬μ©μ‹κ°„μ„ μ ν•ν•λ‹¤.\n
3. μλ…€μ—κ² μ¤λ§νΈν° μ‚¬μ©μ μΆ‹μ€μ κ³Ό λ‚μμ μ„ λ§ν•΄μ¤€λ‹¤.\n
4. μλ…€κ°€ μ‚¬μ©ν•  μ μλ” νΉμ •ν• μ¤λ§νΈν° μ•±μ΄λ‚ μ‚¬μ΄νΈ(μ„±μΈμ‚¬μ΄νΈλ“±)λ¥Ό μ ν•ν•λ‹¤.
             """)
def solution_adult_teens_overdose():
    st.markdown("---")
    st.subheader("μ²­μ†λ…„ κ³Όμμ΅΄ μ¦κ°€ μ›μΈ ")
    st.write("""
1. μΌμΌμ‚¬μ©μ‹κ°„ μ¦κ°€ν• μλ΅ κ³Όμμ΅΄ λ  ν™•λ¥ μ¦κ°€\n
2. μ¤λ§νΈν° μ†μ—μ„ μ‚¬νμ  κ΄€κ³„λ¥Ό ν•μ„±ν•κ² λλ©΄μ„ μΌμƒμƒν™κ³Όμ κ· ν•μ΄ λ¬΄λ„μ§\n
3. μ¥κΈ°μ  λ§μ΅±μ„ μ¶”κµ¬ν•λ” κ²½ν–¥μ΄ λ†’μ„μλ΅ μ¤λ§νΈν° μ¤‘λ…μ„±ν–¥μ€ λ‚®μ•„μ§€κ³ ,μ¦‰κ°μ μΈ λ§μ΅±μ„ μ¶”κµ¬ν• μλ΅ μ¤λ§νΈν° μ¤‘λ…μ„±ν–¥λ„ λ†’μ•„μ§\n
4. μκΈ°ν†µμ λ ¥ λ¶€μ΅±            
             """)
    st.markdown("---")
    st.subheader('μλ°©λ²•')
    st.write("""
1. μ¤λ§νΈν° μ‚¬μ©λ°©λ²•μ„ λ°°μ΄λ‹¤.\n
2. μ¤λ§νΈν° μ‚¬μ©μ μΆ‹μ€μ κ³Ό λ‚μμ μ„ μ•μ•„λ³Έλ‹¤.\n
3. ν•¨κ» κ°€μ΅±μ μ¤λ§νΈν° μ‚¬μ©κ·μΉ™μ„ λ§λ“¤κ³  λ‹¤κ°™μ΄ μ§€ν‚¤λ ¤κ³  λ…Έλ ¥ν•λ‹¤.\n
4. μ μµν• μ‚¬μ΄νΈλ‚ μ•±μ„ κ°™μ΄ μ‚¬μ©ν•λ‹¤.
             """)
    st.subheader('μ†”λ£¨μ…')
    st.write("""
1. μ‚¬μ©μ‹κ°„ μ΅°μ β°: λ¬΄μ΅°κ±΄μ μΈ μ‚¬μ©κΈμ§€ λ³΄λ‹¤ μ‚¬μ©μ‹κ°„ μ΅°μ μ΄ ν•„μ”ν•λ‹¤.\n(μμ‹ μ—κ² μ μ ν• μ¤λ§νΈν° μ‚¬μ©μ‹κ°„μ„ λ―Έλ¦¬ μ •ν•΄ μ§€ν‚¤λ” μµκ΄€ + μΌμ •μ‹κ°„λ§ μ¤λ§νΈν°μ„ μ‚¬μ©ν•  μ μλ„λ΅ μ„¤μ •ν•λ” μ•± ν™μ©)
2. μ™Έλ¶€ν™λ™ μ¦κΈ°κΈ°πƒβ€β™‚οΈ: μ¤λ§νΈν° μ‚¬μ©μ‹κ°„μ„ μ¤„μ΄κ³  μΉκµ¬λ“¤κ³Ό μ„λ΅ μ–΄μΈλ ¤ μ‚¬νμ„±μ„ λ†’μΌ μ μλ” μ·¨λ―Έλ‚ μ΄λ™μ„ μ‹μ‘ν•λ‹¤.\n
3. μκΈ°ν†µμ λ ¥ κΈ°λ¥΄κΈ°π§: λ…ν™•ν• λ©ν‘μ„¤μ •, μ μ ν• λ³΄μƒ, κΈμ •μ  μμ•„λ€ν™” λ“±μ„ ν†µν•΄ μκΈ°ν†µμ λ ¥ κΈ°λ¥Έλ‹¤.
             """)
    st.markdown("---")
    st.markdown("""
            <p class="small-font">κΉ€λ°©μ„, βμ΄λ“±ν•™μƒμ μ¤λ§νΈν° μ¤‘λ… κ²½ν–¥μ„±κ³Ό μ‚¬νμ„±κ°„μ κ΄€κ³„β,λ€μ§„λ€ν•™κµ μ„μ‚¬ν•™μ„λ…Όλ¬Έ, 2018</p>\n
            <p class="small-font">λ°•μ •μ•„, βμ¤‘ν•™μƒμ μκΈ°ν†µμ λ ¥μ΄ μ¤λ§νΈν° μ¤‘λ…μ„±ν–¥μ— λ―ΈμΉλ” μν–¥β,μ μ£Όλ€ν•™κµ μ„μ‚¬ν•™μ„λ…Όλ¬Έ, 2013</p>
             """, unsafe_allow_html=True)
def solution_adult_teens_normal():
    st.markdown("---")
    st.subheader("""
μ΄λ” μ¤λ§νΈν° μ‚¬μ©μ— μμ–΄ κ· ν• μ΅ν μƒν™μ„ ν•κ³  μλ‹¤λ” κ²ƒμ„ μλ―Έν•©λ‹λ‹¤.\n                    
ν•μ§€λ§ μ²­μ†λ…„κΈ°λ” κ°€μ¥ κ³Όμμ΅΄ μ„ν—μ— μ·¨μ•½ν• μ—°λ Ήλ€μ΄λ―€λ΅\n
μ•μΌλ΅λ„ ν„μ¬μ μƒνƒλ¥Ό μ μ μ§€ν•μ—¬ κ³Όμμ΅΄ μ„ν—κµ°μ΄ λμ§€ μ•λ„λ΅ μ£Όμν•΄ μ£Όμ„Έμ”.\n
μ¤λ§νΈν° μ‚¬μ©μ„ μ μ ν μ΅°μ ν•λ©° κ±΄κ°•ν• λ””μ§€ν„Έ λΌμ΄ν”„λ¥Ό μ΄μ–΄κ°€μ‹κΈΈλ°”λλ‹λ‹¤π
              """)
    st.subheader('μλ°©λ²•')
    st.write("""
1. μ¤λ§νΈν° μ‚¬μ©λ°©λ²•μ„ λ°°μ΄λ‹¤.\n
2. μ¤λ§νΈν° μ‚¬μ©μ μΆ‹μ€μ κ³Ό λ‚μμ μ„ μ•μ•„λ³Έλ‹¤.\n
3. ν•¨κ» κ°€μ΅±μ μ¤λ§νΈν° μ‚¬μ©κ·μΉ™μ„ λ§λ“¤κ³  λ‹¤κ°™μ΄ μ§€ν‚¤λ ¤κ³  λ…Έλ ¥ν•λ‹¤.\n
4. μ μµν• μ‚¬μ΄νΈλ‚ μ•±μ„ κ°™μ΄ μ‚¬μ©ν•λ‹¤.
             """)
def solution_adult_overdose():
    st.markdown("---")
    st.subheader("2~30λ€ μ„±μΈ κ³Όμμ΅΄ μ¦κ°€ μ›μΈ")
    st.write("""
1. μ ν–‰μ„ λ”°λΌκ°€κΈ° μ„ν•΄ sns, μμƒ μ‹μ²­μ„ ν•΄μ•Ό μΉκµ¬λ“¤κ³Ό μ–΄μΈλ¦΄μ μλ‹¤.\n
2. μ¤λ§νΈν° μ‚¬μ©μ— λ”°λ¥Έ λ³΄μƒκ²½ν—μ΄ μκΈ° μ΅°μ λ ¥μ„ λ‚®μ¶”κ² λκ³  μ¤λ§νΈν° μ¤‘λ…μΌλ΅ μ΄μ–΄μ§„λ‹¤.\n
3. λ‚¨λ“¤μ μ‹μ„ , μμ‹ κ° λ¶€μ΅±μΌλ΅ μ‚¬λλ“¤κ³Ό μ‰½κ² μ–΄μΈλ¦¬μ§€ λ»ν•΄ μ¤λ§νΈν°μ— μμ΅΄ν•κ²λλ‹¤.
             """)
    st.subheader('μ†”λ£¨μ…')
    st.write("""
1. μμ‹μ μΈ μ¤λ§νΈν° μ‚¬μ©β°: μ¤λ§νΈν° μ‚¬μ© μ‹κ°„μ„ μμ‹μ μΌλ΅ κ΄€λ¦¬ν•κ³  μ ν•ν•λ” κ²ƒμ΄ μ¤‘μ”ν•λ‹¤. μ‚¬μ©ν•λ” μ•±μ΄λ‚ κΈ°λ¥μ— λ€ν•΄ μμ£Ό μ§λ¬Έν•΄ λ³΄λ©΄μ„ μμ‹ μ΄ μ–Όλ§λ‚ λ§μ€ μ‹κ°„μ„ μ†λΉ„ν•κ³  μλ”μ§€λ¥Ό νμ•…ν•λ‹¤.\n
2. λ³΄μƒ μ²΄κ³„ μ¬μ΅°μ •π§—β€β™‚οΈ: μ¤λ§νΈν° μ‚¬μ©μ— λ”°λ¥Έ λ³΄μƒμ„ λ‹¤λ¥Έ λ°©μ‹μΌλ΅ λ€μ²΄ν•  μ μλ” λ°©λ²•μ„ μ°Ύμ•„λ³Έλ‹¤. μλ¥Ό λ“¤μ–΄, μ·¨λ―Έλ‚ μ΄λ™κ³Ό κ°™μ€ ν™λ™μ„ ν†µν•΄ λ³΄μƒμ„ λ°›μ„ μ μλ„λ΅ ν•΄λ³Έλ‹¤.\n
3. κ°μ • κ΄€λ¦¬π‘: λ¶€μ •μ μΈ κ°μ •μ„ νν”Όν•μ§€ μ•κ³  μ§λ©΄ν•κ³  μ²λ¦¬ν•  μ μλ” κΈ°μ μ„ ν–¥μƒμ‹ν‚¨λ‹¤. μ¤νΈλ μ¤ κ΄€λ¦¬ κΈ°μ μ„ μµνκ³ , κ°μ •μ„ ν‘ν„ν•κ³  μ΄ν•΄ν•λ” λ°©λ²•μ„ λ°°μ°λ” κ²ƒμ΄ λ„μ›€μ΄ λ  μ μλ‹¤.\n
4. μκΈ° μ΅°μ λ ¥ κ°•ν™”π§: μ¤μ¤λ΅μ— λ€ν• μκΈ° μ΅°μ λ ¥μ„ κ°•ν™”ν•κΈ° μ„ν•΄ λ…ν™•ν• λ©ν‘λ¥Ό μ„¤μ •ν•κ³  κ·Έ λ©ν‘λ¥Ό λ‹¬μ„±ν•κΈ° μ„ν• κ³„νμ„ μ„Έμ΄λ‹¤. μ΄λ¥Ό ν†µν•΄ μκΈ° μ΅°μ λ ¥μ„ μ—°μµν•κ³  κ°•ν™”ν•  μ μλ‹¤.\n
5. μ·¨λ―Έλ‚ μ΄λ™πƒβ€β™‚οΈ: ν‰μ† κ΄€μ‹¬μ΄ μλ” λ¶„μ•Όλ‚ ν•΄λ³΄κ³  μ‹¶μ—λ ν™λ™μ„ μ‹μ‘ν•λ©΄μ„ κ±΄κ°•ν• ν•λ£¨λ¥Ό λ³΄λ‚΄λ³Έλ‹¤.\n
6. μ‹¬λ¦¬μ  μ§€μ› λ°›κΈ°π‘¨β€β•οΈ: λ¶€μ •μ μΈ κ°μ •μ΄λ‚ μκΈ° μ΅°μ μ΄ μ–΄λ ¤μΈ λ•λ” μ „λ¬Έκ°€μ λ„μ›€μ„ λ°›μ•„λ³Έλ‹¤. μ‹¬λ¦¬μƒλ‹΄μ΄λ‚ ν–‰λ™ μΉλ£λ¥Ό ν†µν•΄ λ¬Έμ λ¥Ό ν•΄κ²°ν•  μ μλ‹¤.
             """)
    st.markdown("---")
    st.markdown("""
            <p class="small-font">μ΄μμ°½α†κΉ€λ‚¨ν¬α†κ¶μ„±μ§„α†κΉ€λ³΄μ„±, βλ€ν•™μƒ μ„±μΈ μ• μ°©κ³Ό λ‚΄ν„μ μκΈ°μ• κ°€ μ¤λ§νΈν° μ¤‘λ…μ— λ―ΈμΉλ” μν–¥β ,κ°μ„±κ³Όν•™ μ—°κµ¬λ…Όλ¬Έ, 2020</p>\n
            <p class="small-font">κΉ€μ€μα†κΉ€μ§€μα†λ°•μ„ μ, βλ€ν•™μƒμ μ¤λ§νΈν° μ‚¬μ©λ³΄μƒ κ²½ν—μ΄ μ¤λ§νΈν° μ¤‘λ… κ²½ν–¥μ„±μ— λ―ΈμΉλ” μν–¥ : λ€μΈκ΄€κ³„ μ§€ν–¥μ„±μ— μν•΄ μ΅°μ λ μκΈ° μ΅°μ λ ¥μ λ§¤κ°ν¨κ³Όβ, ν•™μµμμ¤‘μ‹¬κµκ³Όκµμ΅μ—°κµ¬, 2024</p>\n
            <p class="small-font">μ²νμ,Β  βμ¤‘λ…„κΈ° μ„±μΈμ ν–‰λ³µ, μμ•„μ΅΄μ¤‘κ°, μ‚¬νμ  μ§€μ§€κ°€ μ¤λ§νΈν° μ¤‘λ…μ— λ―ΈμΉλ” μν–¥β, κ½ƒλ™λ„¤λ€ν•™κµ μ‚¬νλ³µμ§€ν‘λ ¥λ€ν•™μ›, 2020</p>
             """, unsafe_allow_html=True)

def solution_adult_normal():
    st.markdown("---")
    st.subheader("""
μ΄λ” μ¤λ§νΈν° μ‚¬μ©μ— μμ–΄ κ· ν• μ΅ν μƒν™μ„ ν•κ³  μλ‹¤λ” κ²ƒμ„ μλ―Έν•©λ‹λ‹¤.\n 
μ•μΌλ΅λ„ ν„μ¬μ μƒνƒλ¥Ό μ μ μ§€ν•μ—¬ κ³Όμμ΅΄ μ„ν—κµ°μ΄ λμ§€ μ•λ„λ΅ μ£Όμν•΄ μ£Όμ„Έμ”.\n 
μ¤λ§νΈν° μ‚¬μ©μ„ μ μ ν μ΅°μ ν•λ©° κ±΄κ°•ν• λ””μ§€ν„Έ λΌμ΄ν”„λ¥Ό μ΄μ–΄κ°€μ‹κΈΈ λ°”λλ‹λ‹¤ π
              """)
def solution_adult_middle_overdose():
    st.markdown("---")
    st.subheader("40~50λ€ μ„±μΈ κ³Όμμ΅΄ μ¦κ°€ μ›μΈ")
    st.write("""
1. μ¤‘λ…„κΈ° μ„±μΈμ λ§μμ΄ μ•μ •λκ³  ν–‰λ³µν•λ©΄ μ¤λ§νΈν°μ— λ μ§‘μ°©ν•μ§€ μ•μ„ μ μκ³ , ν–‰λ³µκ°μ΄ λ†’μ„μλ΅ μ¤λ§νΈν° μ¤‘λ…μ— λΉ μ§ κ°€λ¥μ„±μ΄ κ°μ†ν•λ‹¤\n
2. μ¤‘λ…„κΈ° μ„±μΈμ΄ μμ•„μ΅΄μ¤‘κ°μ„ ν•μ„±ν•κ³ , μμ‹ μ— λ€ν• μ• μ •κ³Ό λ‚΄μ  λ™κΈ°λ¥Ό κ°€μ§€κ² λ  λ• μ¤λ§νΈν° μ¤‘λ…μ„ λ‚®μ¶ μ μλ‹¤.\n
3. μ‚¬νμ  μ§€μ§€μ ν•μ„μ”μΈ μ¤‘ μ •μ„μ  μ§€μ§€, μ •λ³΄μ  μ§€μ§€, λ¬Όμ§μ  μ§€μ§€ λ“± μ‚¬νμ  μ§€μ§€κ°€ λ§μ„μλ΅ μ¤λ§νΈν° μ¤‘λ…μ΄ μ¤„μ–΄λ“¤ μ μλ‹¤.
             """)
    st.subheader('μ†”λ£¨μ…')
    st.write("""
1. μκΈ°κ°λ° μ›ν¬μπ§¶: μ¤‘λ…„κΈ° μ„±μΈμ„ λ€μƒμΌλ΅ μμ•„μ΅΄μ¤‘κ°κ³Ό λ‚΄μ  λ™κΈ°λ¥Ό κ°•ν™”ν•  μ μλ” μκΈ°κ°λ° μ›ν¬μμ΄λ‚ μ„Έλ―Έλ‚λ¥Ό μ κ³µν•μ—¬ μμ‹ μ κ°€μΉλ¥Ό μ¬λ°κ²¬ν•κ³  μ„±μ¥ν•  μ μλ„λ΅ λ•μµλ‹λ‹¤.\n
2. κ°€μ΅± λ° μΉκµ¬μ™€μ κ΄€κ³„ κ°•ν™”π: κ°€μ΅± λ° μΉκµ¬μ™€μ μ‹κ°„μ„ λ” λ§μ΄ λ³΄λ‚΄κ³ , μ •κΈ°μ μΌλ΅ μ†ν†µν•  μ μλ” κΈ°νλ¥Ό λ§λ ¨ν•μ—¬ μ •μ„μ  μ§€μ§€λ¥Ό κ°•ν™”ν•©λ‹λ‹¤.
             """)
    st.markdown("---")
    st.markdown("""
            <p class="small-font">μ΄μμ°½α†κΉ€λ‚¨ν¬α†κ¶μ„±μ§„α†κΉ€λ³΄μ„±, βλ€ν•™μƒ μ„±μΈ μ• μ°©κ³Ό λ‚΄ν„μ μκΈ°μ• κ°€ μ¤λ§νΈν° μ¤‘λ…μ— λ―ΈμΉλ” μν–¥β ,κ°μ„±κ³Όν•™ μ—°κµ¬λ…Όλ¬Έ, 2020</p>\n
            <p class="small-font">κΉ€μ€μα†κΉ€μ§€μα†λ°•μ„ μ, βλ€ν•™μƒμ μ¤λ§νΈν° μ‚¬μ©λ³΄μƒ κ²½ν—μ΄ μ¤λ§νΈν° μ¤‘λ… κ²½ν–¥μ„±μ— λ―ΈμΉλ” μν–¥ : λ€μΈκ΄€κ³„ μ§€ν–¥μ„±μ— μν•΄ μ΅°μ λ μκΈ° μ΅°μ λ ¥μ λ§¤κ°ν¨κ³Όβ, ν•™μµμμ¤‘μ‹¬κµκ³Όκµμ΅μ—°κµ¬, 2024</p>\n
            <p class="small-font">μ²νμ,Β  βμ¤‘λ…„κΈ° μ„±μΈμ ν–‰λ³µ, μμ•„μ΅΄μ¤‘κ°, μ‚¬νμ  μ§€μ§€κ°€ μ¤λ§νΈν° μ¤‘λ…μ— λ―ΈμΉλ” μν–¥β, κ½ƒλ™λ„¤λ€ν•™κµ μ‚¬νλ³µμ§€ν‘λ ¥λ€ν•™μ›, 2020</p>
             """, unsafe_allow_html=True)
def solution_adult_middle_normal():
    st.markdown("---")
    st.subheader("""
μ΄λ” μ¤λ§νΈν° μ‚¬μ©μ— μμ–΄ κ· ν• μ΅ν μƒν™μ„ ν•κ³  μλ‹¤λ” κ²ƒμ„ μλ―Έν•©λ‹λ‹¤.\n 
μ•μΌλ΅λ„ ν„μ¬μ μƒνƒλ¥Ό μ μ μ§€ν•μ—¬ κ³Όμμ΅΄ μ„ν—κµ°μ΄ λμ§€ μ•λ„λ΅ μ£Όμν•΄ μ£Όμ„Έμ”.\n 
μ¤λ§νΈν° μ‚¬μ©μ„ μ μ ν μ΅°μ ν•λ©° κ±΄κ°•ν• λ””μ§€ν„Έ λΌμ΄ν”„λ¥Ό μ΄μ–΄κ°€μ‹κΈΈ λ°”λλ‹λ‹¤ π
              """)
def solution_adult_senior_overdose():
    st.markdown("---")
    st.subheader("60λ€ κ³Όμμ΅΄ μ¦κ°€ μ›μΈ")
    st.write("""
1. μ •μ‹ λ³‘λ¦¬ μ”μΈ μ¤‘, μ°μΈκ°μ΄ λ†’μ„μλ΅ λ¬΄λ ¥κ°μ΄ λ†’μ•„μ§€κ³ , λ¬΄λ ¥κ°μ΄ λ†’μ„μλ΅ μ¤λ§νΈν° μ¤‘λ… κ²½ν–¥μ„±μ΄ λ†’μ•„μ§„λ‹¤\n
2. μ΄κΈ° μ„±μΈκΈ°μ— λΉ„ν•΄ μ¥Β·λ…Έλ…„μΈµμ μ—¬κ°€ν™μ© μ‹κ°„μ€ μ¦κ°€ν•λ” λ€μ‹  μ™Έλ¶€ν™λ™μ€ μ¤„μ–΄λ“ λ‹¤. λν•, νΌμ λ³΄λ‚΄λ” μ‹κ°„μ΄ λμ–΄λ‚λ©΄μ„ μ •λ³΄μ¶”κµ¬λ¥Ό μ„ν• μ¤λ§νΈν° μ΄μ©μ¨μ΄ λ†’μ•„μ§„λ‹¤.\n
3. μ‚¬νμ  ν™λ™κ³Ό κµλ¥κ°€ μƒλ€μ μΌλ΅ ν™λ°ν• 60λ€κ°€ μ¤λ§νΈν° μ¤‘λ… κ²½ν–¥μ„± μμ¤€μ΄ κ°€μ¥λ‚®μ•κ³ , μ‚¬ν, κ²½μ μ μΌλ΅ μ·¨μ•½ν•΄μ§€λ” 70λ€μ μ¤λ§νΈν° μ¤‘λ… κ²½ν–¥μ„± μμ¤€μ΄ κ°€μ¥ λ†’λ‹¤.\n
4. μ€ν‡΄ μ¤€λΉ„μ™€ μ€ν‡΄ μ΄ν›„ κ²½ν—ν•λ” μ‚¬νμ  μ—­ν• μ μ¶•μ† μ™€ μ‚¬νμ  κ΄€κ³„λ§μ μ•½ν™”κ°€ μ™Έλ΅μ›€μ κ²½ν—μ— μν–¥μ„ λ―ΈμΉ  μ μλ‹¤.
             """)
    st.subheader('μ†”λ£¨μ…')
    st.write("""
1. μ΄λ™ν•κΈ°πƒβ€β™‚οΈ: μ΄λ™μ€ μ°μΈκ°μ„ μ¤„μ΄κ³  μ—λ„μ§€λ¥Ό νλ³µν•λ”λ° λ„μ›€μ΄ λλ‹¤. μ‚°μ±…, μ΅°κΉ…, μμ, μ”κ°€ λ“±μ μ μ‚°μ† μ΄λ™μ΄λ‚ κ·Όλ ¥ μ΄λ™μ„ ν†µν•΄ μ‹ μ²΄ ν™λ™μ„ μ¦κΈ°κ³  κ±΄κ°•μ„ μ μ§€ν•λ‹¤.\n
2. μ •κΈ°μ μΈ ν™λ™π‘¨β€π‘©β€π‘§β€π‘¦: μ •κΈ°μ μΌλ΅ κ³„νλ ν™λ™μ„ κ°€μ§€κ³  μƒν™ν•λ©΄ λ¬΄κΈ°λ ¥κ°μ„ κ·Ήλ³µν•  μ μλ‹¤. μλ¥Ό λ“¤μ–΄, μ·¨λ―Έν™λ™μ΄λ‚ λ™νΈν μ°Έμ—¬, λ΄‰μ‚¬ν™λ™ λ“±μ„ ν†µν•΄ μμ‹ μ„ ν™λ°ν•κ² μ μ§€ν•λ‹¤.\n
3. μ‚¬νμ  κµλ¥π—£οΈ: μΉκµ¬λ‚ κ°€μ΅±κ³Όμ λ§λ‚¨μ΄λ‚ μ‚¬νμ μΈ ν™λ™μ„ ν†µν•΄ μ°μΈκ°μ„ μ¤„μΌ μ μλ‹¤. μ‚¬λ‘κ³Ό μ§€μ§€λ¥Ό λ°›μΌλ©΄μ„ λ€ν™”ν•κ³  λ‚λ”μ„ ν†µν•΄ κΈμ •μ μΈ μ •μ„λ¥Ό μ μ§€ν•λ‹¤.\n
4. μ •μ„μ  μ§€μ›π‘¨β€β•οΈ: μ°μΈκ°κ³Ό λ¬΄κΈ°λ ¥κ°μ„ ν•΄μ†ν•κΈ° μ„ν•΄ μ „λ¬Έκ°€μ λ„μ›€μ„ λ°›μ„ μ μλ‹¤. μ •μ‹ κ±΄κ°• μ „λ¬Έκ°€μ™€μ μƒλ‹΄μ΄λ‚ μΉλ£λ¥Ό ν†µν•΄ λ¬Έμ μ— λ€ν• ν•΄κ²°μ±…μ„ μ°Ύμ„ μ μλ‹¤.\n
5. μκΈ° κ΄€λ¦¬π΄: μ¶©λ¶„ν• ν΄μ‹κ³Ό μλ©΄μ„ μ·¨ν•κ³  κ±΄κ°•ν• μ‹μµκ΄€μ„ μ μ§€ν•λ‹¤. μ¤νΈλ μ¤λ¥Ό κ΄€λ¦¬ν•κ³  κΈμ •μ μΈ μƒκ°μ„ μ μ§€ν•λ” κ²ƒμ΄ μ¤‘μ”ν•λ‹¤.\n
6. μƒλ΅μ΄ κ²½ν—κ³Ό λ„μ „π§—β€β™‚οΈ: μƒλ΅μ΄ μ·¨λ―Έλ‚ ν™λ™μ„ μ‹μ‘ν•κ±°λ‚ λ„μ „μ μΈ λ©ν‘λ¥Ό μ„Έμ°λ” κ²ƒμ€ μμ‹ κ°μ„ ν‚¤μ°κ³  μ°μΈκ°μ„ κ·Ήλ³µν•λ” λ° λ„μ›€μ΄ λλ‹¤.\n
7. μ»¤λ®¤λ‹ν‹° μ„Όν„° ν”„λ΅κ·Έλ¨π«: μ§€μ—­ μ‚¬νμ—μ„ μ΄μν•λ” λ‹¤μ–‘ν• ν”„λ΅κ·Έλ¨μ— μ°Έμ—¬ν•μ—¬ μƒλ΅μ΄ μ‚¬λλ“¤κ³Ό κµλ¥ν•  μ μλ‹¤. μ΄λ” κ³ λ¦½κ°μ„ μ¤„μ΄κ³  μ‚¬νμ  μ λ€λ¥Ό κ°•ν™”ν•λ” λ° λ„μ›€μ„ μ¤€λ‹¤.
             """)
    st.markdown("---")
    st.markdown("""
            <p class="small-font">μ–‘μΉλ―Όα†μ„μ§„μ„­, βλ…ΈμΈμ μ¤λ§νΈν° μ¤‘λ… κ²½ν–¥μ„±μ— λ―ΈμΉλ” μν–¥μ”μΈ : μΈμ§€ν–‰λ™λ¨λΈ(cognitive-behavioral model)μ„ κΈ°λ°μΌλ΅ ν• νƒμƒ‰μ—°κµ¬β, λ™μλ€ν•™κµ μ§€λ°©μμΉμ—°κµ¬μ†, 2019</p>\n
            <p class="small-font">λ°°μ„±λ§α†κ³ μμ‚Ό, βμ¥λ…Έλ…„μΈµμ μ¤λ§νΈν° κ³Όμμ΅΄ μν–¥μ”μΈμ— λ€ν• νƒμƒ‰μ  μ—°κµ¬β, κ³ λ ¤μ‚¬μ΄λ²„λ€ν•™κµ, ν•κµ­μ •λ³΄ν™”μ§„ν¥μ› λ””μ§€ν„Έλ¬Έν™”λ³Έλ¶€, 2017</p>
             """, unsafe_allow_html=True)
def solution_adult_senior_normal():
    st.markdown("---")
    st.subheader("""
μ¤λ§νΈν° μ‚¬μ©μ— μμ–΄ κ· ν• μ΅ν μƒν™μ„ ν•κ³  μλ‹¤λ” κ²ƒμ„ μλ―Έν•©λ‹λ‹¤.\n
μ•μΌλ΅λ„ ν„μ¬μ μƒνƒλ¥Ό μ μ μ§€ν•μ—¬ κ³Όμμ΅΄ μ„ν—κµ°μ΄ λμ§€ μ•λ„λ΅ μ£Όμν•΄ μ£Όμ„Έμ”.\n 
μ¤λ§νΈν° μ‚¬μ©μ„ μ μ ν μ΅°μ ν•λ©°, κ±΄κ°•ν• λ””μ§€ν„Έ λΌμ΄ν”„λ¥Ό μ΄μ–΄κ°€μ‹κΈΈ λ°”λλ‹λ‹¤ π
              """)

# ---------------------------------μ¶λ ¥ μ½”λ“-----------------------------------------  

if 'total_score' not in st.session_state:
    st.session_state.total_score = 0

if 'total_score_adult' not in st.session_state:
    st.session_state.total_score_adult = 0

if total_score :
    overdose_kids(total_score)
    dash_kids()
else :
    if age >= 9 and age <= 19:
        overdose_adult_teen(total_score_adult)
        dash_adult_teens()
    elif age > 19 and age < 60:
        overdose_adult(total_score_adult)
        dash_adult()
    elif age >= 60:
        overdose_adult_senior(total_score_adult)
        dash_adult_senior()


#------------------------------- ai μ΄λ―Έμ§€ μ¶λ ¥ μ½”λ“----------------------------------------
openai.api_key = st.secrets["openapi_key"]["OPENAPI_KEY"]

if total_score >= 24:  # κ³Όμμ΅΄ μ„ν—κµ°μΈ κ²½μ°μ—λ§ μ΄λ―Έμ§€ μƒμ„±
    prompt = "λ‚μ΄κ°€ " + str(age) + "μ‚΄μ΄κ³  μ¤λ§νΈν°μ— μ¤‘λ…λμ–΄μ„ ν—λ¦¬κ°€ κµ½μ—κ³  λ‹¤ν¬μ„ν΄μ΄ ν„±κΉμ§€ λ‚΄λ ¤μ™€μ„ νμΈμ΄ λμ–΄λ²„λ¦° " + sex + "μλ¥Ό μ™„μ „ λ¬΄μ„­κ³  κ³Όμ¥ν•΄μ„ κ·Έλ ¤μ¤"
    response = openai.images.generate(model="dall-e-3", prompt=prompt, size="1024x1024", quality="standard", n=1)

    image_url = response.data[0].url

    # μ΄λ―Έμ§€λ¥Ό κ°€μ Έμ™€μ„ Streamlitμ— ν‘μ‹
    image = Image.open(requests.get(image_url, stream=True).raw)
    st.markdown("---")
    st.subheader('λ‹Ήμ‹ μ κ³„μ† μ¤λ§νΈν°μ„ μ‚¬μ©ν•λ‹¤λ©΄..')
    st.markdown("---")
    st.image(image, use_column_width=True)

if total_score_adult >= 24:  # κ³Όμμ΅΄ μ„ν—κµ°μΈ κ²½μ°μ—λ§ μ΄λ―Έμ§€ μƒμ„±
    prompt = "λ‚μ΄κ°€ " + str(age) + "μ‚΄μ΄κ³  μ¤λ§νΈν°μ— μ¤‘λ…λμ–΄μ„ ν—λ¦¬κ°€ κµ½μ—κ³  λ‹¤ν¬μ„ν΄μ΄ ν„±κΉμ§€ λ‚΄λ ¤μ™€μ„ νμΈμ΄ λμ–΄λ²„λ¦° " + sex + "μλ¥Ό μ™„μ „ λ¬΄μ„­κ³  κ³Όμ¥ν•΄μ„ κ·Έλ ¤μ¤"
    response = openai.images.generate(model="dall-e-3", prompt=prompt, size="1024x1024", quality="standard", n=1)

    image_url = response.data[0].url

    # μ΄λ―Έμ§€λ¥Ό κ°€μ Έμ™€μ„ Streamlitμ— ν‘μ‹
    image = Image.open(requests.get(image_url, stream=True).raw)
    st.markdown("---")
    st.expander('λ‹Ήμ‹ μ κ³„μ† μ¤λ§νΈν°μ„ μ‚¬μ©ν•λ‹¤λ©΄..')
    st.markdown("---")
    st.image(image, use_column_width=True)



if total_score :
    if total_score >= 24:
        solution_kids_overdose()
    elif total_score < 24:
        solution_kids_normal()
else :
    if (age > 9 and age <= 19) and (total_score_adult >= 23):
        solution_adult_teens_overdose()
    elif (age > 9 and age <= 19) and (total_score_adult < 23):
        solution_adult_teens_normal()
    elif (age > 19 and age < 40) and (total_score_adult >= 24):
        solution_adult_overdose()
    elif (age > 19 and age < 40) and (total_score_adult < 24):
        solution_adult_normal()
    elif (age >= 40 and age < 60) and (total_score_adult >= 24):
        solution_adult_middle_overdose()
    elif (age >= 40 and age < 60) and (total_score_adult < 24):
        solution_adult_middle_normal()
    elif (age > 60) and (total_score_adult >= 24):
        solution_adult_senior_overdose()
    elif (age > 60) and (total_score_adult < 24):
        solution_adult_senior_normal()
st.markdown("---")
st.page_link("pages/final.py", label="λ§μ§€λ§‰κ°€κΈ°", icon="β”οΈ")
